<template>
    <div class="container">
      <div class="form__container">
            <div class="form__title-container">
                <h2 class="form__title">Vos le√ßons</h2>
            </div>
            <div class="form__lesson-container">
                <div class="form__lesson-button">
                    <LessonButton v-for="(lesson, id) in this.lessons" :key="id" :data="lesson" :deleteLessonButton="true" :editLesson="true">
                        <!-- modal de confirmation de suppression -->
                        <ModalComponent/>
                    </LessonButton>
                </div>                
            </div>       
      </div>      
    </div>   
</template>

<script>
import LessonButton from '../components/button/lessonsButtons/LessonButton.vue';
import ModalComponent from '../components/modal/Modal.vue';
export default {
    components: {
        LessonButton,
        ModalComponent      
    },
    data(){
        return {            
        };
    },
    methods: {
        async getLessonByUserId(){
            const getUserLesson = await this.$store.dispatch('actionHandler', { action: 'getLessonByUserId' });                        
        }
    },
    computed: {
        /** liste lcons utilisateur */
        lessons(){
            return this.$store.getters.getUserLesson;
        }

    },
    created(){
        this.getLessonByUserId();
    }
};
</script>

<style scoped>
    .container{    
        margin-top:var(--navbar_height);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;    
        background: white;
    }

    .form__container{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        background:var(--main_background_color);
        height: 100%;
    }

    .form__title-container{
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .form__title{
        padding: 10px;
        font-size: var(--form_title_size);
        text-transform: uppercase;
    }

    .form__lesson-container{
        width: 100%;        
    }

    .form__lesson-button{
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    @media screen and (min-width:560px) {
       .form__lesson-container{
            display: flex;
        }

        .form__lesson-button{
            flex-direction: row;
            flex-wrap: wrap;
            margin: 0px auto;
            width: 100%;
        }

    }

    @media screen and (min-width:768px) {

        .form__container{        
            width: 768px;                        
            box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;
        }
    }

    @media screen and (min-width:1024px) {      
        .form__container{        
            width: 1024px;                                 
        }  

    }

</style>